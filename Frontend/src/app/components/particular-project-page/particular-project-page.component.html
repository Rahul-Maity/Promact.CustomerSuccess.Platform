  <div class="header-container">
    <div class="title">
      <h2>{{projectName}}</h2>
    </div> 
  <div class="export-pdf">
    <button (click)="fetchDataAndDownloadPDF()">Export Pdf</button>
  </div>
  </div>



<div class="form-group"*ngIf="userEmail; else loginMessage">
    <mat-tab-group>
    
      <mat-tab *ngIf=" userEmail !== 'sourav@gmail.com'"> 
        <ng-template mat-tab-label>
          <span class="custom-label">Approved Team</span>
        </ng-template>
          <app-approved-team [projectId]="projectId"></app-approved-team>
      </mat-tab>

 
        <mat-tab > 
          <ng-template mat-tab-label>
            <span class="custom-label">Add Stakeholder</span>
          </ng-template>
            <!-- <app-approved-team [projectId]="projectId"></app-approved-team> -->
            <app-stakeholder    [projectId]="projectId"></app-stakeholder>
        </mat-tab>
        <mat-tab    *ngIf=" userEmail !== 'sourav@gmail.com'"> 
          <ng-template mat-tab-label   >
            <span class="custom-label">Resources</span>
          </ng-template>
          <app-project-resources [projectId]="projectId"></app-project-resources>
        </mat-tab>
        <mat-tab    *ngIf=" userEmail !== 'sourav@gmail.com'"> 
          <ng-template mat-tab-label>
            <span class="custom-label">Client Feedback</span>
          </ng-template>
          <app-client-feedback [projectId]="projectId"></app-client-feedback>
           </mat-tab>
        <mat-tab > 
          <ng-template mat-tab-label>
            <span class="custom-label">Project Update</span>
          </ng-template>
          <app-project-update [projectId]="projectId"></app-project-update>
           </mat-tab>
        <mat-tab     *ngIf=" userEmail !== 'sourav@gmail.com'"> 
          <ng-template mat-tab-label>
            <span class="custom-label">Moms Meeting</span>
          </ng-template>
          <app-moms-meeting [projectId]="projectId"></app-moms-meeting>
           </mat-tab>
           <mat-tab    *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Escalation Matrix</span>
            </ng-template>
            <app-escalation [projectId]="projectId"></app-escalation>
           </mat-tab>
           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Budget</span>
            </ng-template>
            <app-budget [projectId]="projectId"></app-budget>
           </mat-tab>
           <mat-tab >
            <ng-template mat-tab-label>
              <span class="custom-label">Audit History</span>
            </ng-template>
            <app-audit [projectId]="projectId"></app-audit>
           </mat-tab>
           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Document</span>
            </ng-template>
            <app-document [projectId]="projectId"></app-document>
           </mat-tab>
           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label"  >Version</span>
            </ng-template>
            <app-version  [projectId]="projectId" ></app-version>
           </mat-tab>
           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Project Scope</span>
            </ng-template>
            <app-scope [projectId]="projectId"></app-scope>
           </mat-tab>
           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Phase Milestone</span>
            </ng-template>
            <!-- <app-scope [projectId]="projectId"></app-scope> -->
            <app-phase-milestone   [projectId]="projectId"></app-phase-milestone>
           </mat-tab>

           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Sprint</span>
            </ng-template>
            <app-sprint      [projectId]="projectId"></app-sprint>
           </mat-tab>

           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Risk Profile</span>
            </ng-template>
            <app-risk-profile  [projectId]="projectId"></app-risk-profile>
           </mat-tab>

           <mat-tab  *ngIf=" userEmail !== 'sourav@gmail.com'">
            <ng-template mat-tab-label>
              <span class="custom-label">Project description</span>
            </ng-template>
            <!-- <app-risk-profile  [projectId]="projectId"></app-risk-profile> -->
            <app-project-description [projectId]="projectId"></app-project-description>
           </mat-tab>
    
      </mat-tab-group>
      
</div> 


  <ng-template #loginMessage >
    <div id="denied-access">
      <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="lock"></mat-icon>
      <p><span>Unauthenticted</span>Log In into the application to have access</p>
    </div>
    

    </ng-template>




<div class="project-section" *ngIf="dataSourceApproved && dataSourceApproved.length > 0">
  <div class="title">
    <h2>Approved Team Details: </h2>
    <!-- <p>Stakeholder for this project</p> -->
  </div> 
  <table mat-table [dataSource]="dataSourceApproved" class="mat-elevation-z8">

 
    
      <!-- Position Column -->
      <ng-container matColumnDef="phase">
        <th mat-header-cell *matHeaderCellDef> <span>Phase.</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.phase}} </span></td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="numberOfResources">
        <th mat-header-cell *matHeaderCellDef > <span>numberOfResources</span></th>
        <td mat-cell *matCellDef="let element"  class="element-name"> <span>{{element.numberOfResources}}</span> </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> <span> Role</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.role}}</span> </td>
      </ng-container>

      <ng-container matColumnDef="availabilityPercentage">
        <th mat-header-cell *matHeaderCellDef> <span> availabilityPercentage</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.availabilityPercentage}}</span> </td>
      </ng-container>
    
    
      <tr mat-header-row *matHeaderRowDef="displayedColumnsApproved"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsApproved;"></tr>
    </table>
    
    
</div>











<div class="project-section" *ngIf="dataSource && dataSource.length > 0">
  <div class="title">
    <h2>Stakeholder Details: </h2>
    <!-- <p>Stakeholder for this project</p> -->
  </div> 
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

 
    
      <!-- Position Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> <span>Title.</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.title}} </span></td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef > <span>Name</span></th>
        <td mat-cell *matCellDef="let element"  class="element-name"> <span>{{element.name}}</span> </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="contact">
        <th mat-header-cell *matHeaderCellDef> <span> Contact</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.contact}}</span> </td>
      </ng-container>
    
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    
    
</div>










<div class="project-section" *ngIf="dataSourceResource && dataSourceResource.length > 0">
  <div class="title">
    <h2>Project Resources </h2>
    <!-- <p>Stakeholder for this project</p> -->
  </div> 
  <table mat-table [dataSource]="dataSourceResource" class="mat-elevation-z8">

 
    
      <!-- Position Column -->
      <ng-container matColumnDef="allocationPercentage">
        <th mat-header-cell *matHeaderCellDef> <span>allocationPercentage.</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.allocationPercentage}} </span></td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="start">
        <th mat-header-cell *matHeaderCellDef > <span>start</span></th>
        <td mat-cell *matCellDef="let element"  class="element-name"> <span>{{element.start}}</span> </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="end">
        <th mat-header-cell *matHeaderCellDef> <span> end</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.end}}</span> </td>
      </ng-container>
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> <span> role</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.role}}</span> </td>
      </ng-container>
    
    
      <tr mat-header-row *matHeaderRowDef="displayedColumnsResource"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsResource;"></tr>
    </table>
    
    
</div>








<div class="project-section" *ngIf="dataSourceClientFeedback && dataSourceClientFeedback.length > 0">
  <div class="title">
    <h2>Client Feedback on project </h2>
    <!-- <p>Stakeholder for this project</p> -->
  </div> 
  <table mat-table [dataSource]="dataSourceClientFeedback" class="mat-elevation-z8">

 
    
      <!-- Position Column -->
      <ng-container matColumnDef="feedbackType">
        <th mat-header-cell *matHeaderCellDef> <span>feedbackType.</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.feedbackType}} </span></td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="dateReceived">
        <th mat-header-cell *matHeaderCellDef > <span>dateReceived</span></th>
        <td mat-cell *matCellDef="let element"  class="element-name"> <span>{{element.dateReceived}}</span> </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="detailedFeedback">
        <th mat-header-cell *matHeaderCellDef> <span> detailedFeedback</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.detailedFeedback}}</span> </td>
      </ng-container>
      <ng-container matColumnDef="actionTaken">
        <th mat-header-cell *matHeaderCellDef> <span> actionTaken</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.actionTaken}}</span> </td>
      </ng-container>
    
    
      <tr mat-header-row *matHeaderRowDef="displayedColumnsClientFeedback"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsClientFeedback;"></tr>
    </table>
    
    
</div>






<div class="project-section" *ngIf="dataSourceMomsMeeting && dataSourceMomsMeeting.length > 0">
  <div class="title">
    <h2>Moms Meeting </h2>
    <!-- <p>Stakeholder for this project</p> -->
  </div> 
  <table mat-table [dataSource]="dataSourceMomsMeeting" class="mat-elevation-z8">

 
    
      <!-- Position Column -->
      <ng-container matColumnDef="meetingDate">
        <th mat-header-cell *matHeaderCellDef> <span>meetingDate.</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.meetingDate}} </span></td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="moMLink">
        <th mat-header-cell *matHeaderCellDef > <span>moMLink</span></th>
        <td mat-cell *matCellDef="let element"  class="element-name"> <span>{{element.moMLink}}</span> </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="comments">
        <th mat-header-cell *matHeaderCellDef> <span> comments</span> </th>
        <td mat-cell *matCellDef="let element"> <span>{{element.comments}}</span> </td>
      </ng-container>

    
    
      <tr mat-header-row *matHeaderRowDef="displayedColumnsMomsMeeting"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsMomsMeeting;"></tr>
    </table>
    
    
</div>